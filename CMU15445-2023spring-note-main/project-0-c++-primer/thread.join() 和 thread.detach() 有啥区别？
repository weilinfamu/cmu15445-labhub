join()	ç­‰çº¿ç¨‹æ‰§è¡Œå®Œï¼Œä¸»çº¿ç¨‹æ‰ç»§ç»­	åŒæ­¥ï¼ˆé˜»å¡ç­‰å¾…ï¼‰	ä¸»çº¿ç¨‹ä¾èµ–å­çº¿ç¨‹ç»“æœ
detach()	åˆ†ç¦»çº¿ç¨‹ï¼Œç‹¬ç«‹è¿è¡Œ	å¼‚æ­¥ï¼ˆä¸»çº¿ç¨‹ä¸ç®¡ï¼‰	åå°ä»»åŠ¡ã€ä¸å…³å¿ƒç»“æœ


âœ… 1. thread.join() â€”â€” ç­‰ä½ è·‘å®Œæˆ‘å†èµ°

std::thread t(func);
t.join();  // ä¸»çº¿ç¨‹ä¼šå¡ä½ï¼Œç­‰ t çº¿ç¨‹è·‘å®Œ
ğŸ” æ•ˆæœï¼š
ä¸»çº¿ç¨‹ ç­‰å¾… t çº¿ç¨‹è¿è¡Œå®Œæ¯•åå†ç»§ç»­æ‰§è¡Œã€‚

ç±»ä¼¼ C è¯­è¨€é‡Œçš„ pthread_join()ã€‚
---------------------------------------------------------
å¦‚æœä½ éœ€è¦è·å–çº¿ç¨‹ç»“æœã€æˆ–è€…çº¿ç¨‹è®¿é—®å…±äº«èµ„æºï¼Œå¿…é¡»ä½¿ç”¨ join()ã€‚
---------------------------------------------------------
âš ï¸ æ³¨æ„ï¼š
å¦‚æœä½ ä¸è°ƒç”¨ join() æˆ– detach()ï¼Œç¨‹åºä¼šå´©æºƒï¼ˆstd::terminateï¼‰ï¼

-------------------------------------------------------
thread.detach() â€”â€” æ”¾ä½ è‡ªç”±ï¼Œè·‘å®Œè‡ªå·±æ”¶å°¸

std::thread t(func);
t.detach();  // ä¸»çº¿ç¨‹ä¸ä¼šç­‰ä½ ï¼Œt è‡ªå·±è·‘è‡ªå·±çš„
------------------------------------------------------
ä¸»çº¿ç¨‹ åˆ›å»ºçº¿ç¨‹åå°±â€œæ’’æ‰‹ä¸ç®¡â€ï¼Œçº¿ç¨‹ç‹¬ç«‹è¿è¡Œã€‚

ç±»ä¼¼ C è¯­è¨€é‡Œçš„ pthread_detach()ã€‚

ç”¨äºåå°å¤„ç†ã€å†™æ—¥å¿—ã€ä¸Šä¼ ç½‘ç»œã€å¼‚æ­¥ä»»åŠ¡ç­‰ä¸éœ€è¦ç­‰ç»“æœçš„æƒ…å†µã€‚
--------------------------------------------------------

ğŸ“Œ æ ‡å‡†æ–‡æ¡£çš„è§£é‡Šï¼ˆC++11 å¼€å§‹ï¼‰ï¼š
If join() or detach() is not called before a std::thread object is destroyed, the program calls std::terminate().

ç¿»è¯‘ï¼š

å¦‚æœ std::thread è¢«é”€æ¯å‰ï¼Œæ²¡æœ‰ join() æˆ– detach()ï¼Œç¨‹åºä¼šç›´æ¥ç»ˆæ­¢ã€‚

â€œçº¿ç¨‹è¦å–„ç»ˆï¼Œjoin æˆ– detachï¼â€
å¦åˆ™ C++ ä¼šè®¤ä¸ºä½ å¤±èŒï¼Œç›´æ¥ std::terminate() æŠ¥é”™ï¼


