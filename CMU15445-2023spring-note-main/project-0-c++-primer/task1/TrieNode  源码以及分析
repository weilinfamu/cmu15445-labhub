// A TrieNodeWithValue is a TrieNode that also has a value of type T associated with it.
template <class T>
class TrieNodeWithValue : public TrieNode {
 public:
  // Create a trie node with no children and a value.
  explicit TrieNodeWithValue(std::shared_ptr<T> value) : value_(std::move(value)) { this->is_value_node_ = true; }

  // Create a trie node with children and a value.
  TrieNodeWithValue(std::map<char, std::shared_ptr<const TrieNode>> children, std::shared_ptr<T> value)
      : TrieNode(std::move(children)), value_(std::move(value)) {
    this->is_value_node_ = true;
  }

  // Override the Clone method to also clone the value.
  //
  // Note: if you want to convert `unique_ptr` into `shared_ptr`, you can use `std::shared_ptr<T>(std::move(ptr))`.
  auto Clone() const -> std::unique_ptr<TrieNode> override {
    return std::make_unique<TrieNodeWithValue<T>>(children_, value_);
  }

  // The value associated with this trie node.
  std::shared_ptr<T> value_;
};
-------------------------------------------------------------------------------------------------------------------
核心设计意图
这个TrieNode类的设计目标是:

支持不可变(immutable)数据结构
实现写时复制(copy-on-write)优化
作为可能存储值的节点的基类
--------------------------------------------------------------

主要组件解析
1. 子节点存储

✅ 原始声明复习一下：

std::map<char, std::shared_ptr<const TrieNode>> children_;
🔍 拆成四个部分来讲解：
部分	含义
std::map<char, ...>	一个映射结构，key 是字符（char），表示一层 Trie 的分支
std::shared_ptr<...>	每个字符对应一个共享智能指针
const TrieNode	指向一个 不可修改的 TrieNode 对象
children_	成员变量名，代表“子节点集合”


------------------------------------------------------------------------------------------------------------------------------------------








